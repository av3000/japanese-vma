@use '@/styles/01-tools/media';

.dialog.dialog {
	position: fixed;
	inset: 0;
	margin: 0;
	padding: 0;
	border: none;
	background: transparent;
	width: 100vw;
	height: 100vh;
	display: grid;
	place-items: center;
	z-index: var(--z-index-modal);
	opacity: 0;
	pointer-events: none;
}

.dialog::backdrop {
	background: transparent;
}

.dialog[data-state='open'],
.dialog[open] {
	opacity: 1;
	pointer-events: auto;
}

.backdrop {
	position: fixed;
	inset: 0;
	background: rgba(0, 0, 0, 0.45);
	opacity: 0;
	transition: opacity var(--duration-lg) var(--ease-base);
}

.dialog[data-state='open'] .backdrop,
.dialog[open] .backdrop {
	opacity: 1;
}

.panel {
	position: relative;
	z-index: 1;
	width: min(var(--modal-width), calc(100vw - var(--spacing-2xl)));
	max-width: 100vw;
	max-height: calc(100vh - var(--spacing-3xl));
	background: var(--color-neutral-0);
	color: var(--color-text-primary);
	border-radius: var(--border-radius-md);
	box-shadow: var(--box-shadow-default);
	display: flex;
	flex-direction: column;
	overflow: hidden;
	transform: translateY(8px) scale(0.98);
	opacity: 0;
	transition:
		transform var(--duration-lg) var(--ease-base),
		opacity var(--duration-lg) var(--ease-base);
}

.dialog[data-state='open'] .panel,
.dialog[open] .panel {
	transform: translateY(0) scale(1);
	opacity: 1;
}

.header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: var(--spacing-md);
	padding: var(--spacing-md);
	border-bottom: var(--border-size-sm) solid var(--color-neutral-200);
}

.header-content {
	flex: 1;
	min-width: 0;
}

.title {
	display: flex;
	align-items: center;
	margin: 0;
	font-size: var(--font-size-heading-4);
	font-weight: var(--font-weight-semibold);
	line-height: var(--line-height-md);
}

.body {
	padding: var(--spacing-lg);
	overflow: auto;
}

.footer {
	display: flex;
	justify-content: flex-end;
	gap: var(--spacing-sm);
	padding: var(--spacing-md) var(--spacing-lg);
	border-top: var(--border-size-sm) solid var(--color-neutral-200);
}

.close-button {
	flex-shrink: 0;
}

.size-sm {
	--modal-width: 420px;
}

.size-md {
	--modal-width: 640px;
}

.size-lg {
	--modal-width: 920px;
}

.size-fullscreen {
	width: 100vw;
	max-height: 100vh;
	max-width: 100vw;
	height: 100vh;
	border-radius: 0;
	transform: none;
}

@include media.mq('sm') {
	.panel {
		max-height: calc(100vh - var(--spacing-2xl));
	}

	.size-fullscreen {
		max-height: 100vh;
	}
}
